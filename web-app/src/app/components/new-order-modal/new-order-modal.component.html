<div class="modal-backdrop">
  <div class="modal-container">
    <div class="modal-content">
      <div class="modal-header green">
        <h3>Customer {{ customerName }} - New Order</h3>
      </div>

      <form>
        <h4>Order</h4>

        <div class="row">
          <mat-form-field appearance="outline" class="half-width no-bg">
            <mat-label>Employee</mat-label>
            <mat-select [(ngModel)]="order.employeeId" name="employeeId" required>
              <mat-option *ngFor="let e of employees" [value]="e.empid">{{ e.firstname }} {{ e.lastname }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field  appearance="outline" class="half-width no-bg">
            <mat-label>Shipper</mat-label>
            <mat-select [(ngModel)]="order.shipperId" name="shipperId" required>
              <mat-option *ngFor="let s of shippers" [value]="s.shipperId">{{ s.companyName }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <mat-form-field  appearance="outline" class="full-width">
          <mat-label>Ship Name</mat-label>
          <input matInput [(ngModel)]="order.shipName" name="shipName" required>
        </mat-form-field>

        <div class="row">
          <mat-form-field  appearance="outline" class="third-width no-bg">
            <mat-label>Ship Address</mat-label>
            <input matInput [(ngModel)]="order.shipAddress" name="shipAddress" required>
          </mat-form-field>

          <mat-form-field appearance="outline" class="third-width no-bg">
            <mat-label>Ship City</mat-label>
            <input matInput [(ngModel)]="order.shipCity" name="shipCity" required>
          </mat-form-field>

          <mat-form-field appearance="outline" class="third-width no-bg">
            <mat-label>Ship Country</mat-label>
            <input matInput [(ngModel)]="order.shipCountry" name="shipCountry" required>
          </mat-form-field>
        </div>

        <div class="row">
          <mat-form-field appearance="outline" class="third-width no-bg">
            <mat-label>Order Date*</mat-label>
            <input matInput [matDatepicker]="orderDatePicker" [(ngModel)]="order.orderDate" name="orderDate">
            <mat-datepicker-toggle matSuffix [for]="orderDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #orderDatePicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field  appearance="outline" class="third-width no-bg">
            <mat-label>Required Date*</mat-label>
            <input matInput [matDatepicker]="reqPicker" [(ngModel)]="order.requiredDate" name="requiredDate">
            <mat-datepicker-toggle matSuffix [for]="reqPicker"></mat-datepicker-toggle>
            <mat-datepicker #reqPicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field  appearance="outline" class="third-width no-bg">
            <mat-label>Shipped Date*</mat-label>
            <input matInput [matDatepicker]="shipPicker" [(ngModel)]="order.shippedDate" name="shippedDate">
            <mat-datepicker-toggle matSuffix [for]="shipPicker"></mat-datepicker-toggle>
            <mat-datepicker #shipPicker></mat-datepicker>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline" class="full-width no-bg">
          <mat-label>$ Freight*</mat-label>
          <input matInput type="number" step="0.01" [(ngModel)]="order.freight" name="freight">
        </mat-form-field>

        <h4>Order Details</h4>

        <mat-form-field appearance="outline" class="full-width no-bg">
          <mat-label>Product</mat-label>
          <mat-select [(ngModel)]="order.productId" name="productId" required>
            <mat-option *ngFor="let p of products" [value]="p.productId">{{ p.productName }}</mat-option>
          </mat-select>
        </mat-form-field>

        <div class="row">
          <mat-form-field appearance="outline" class="third-width bg-color">
            <mat-label>$ Unit Price*</mat-label>
            <input matInput type="number" step="0.01" [(ngModel)]="order.unitPrice" name="unitPrice">
          </mat-form-field>

          <mat-form-field appearance="outline" class="third-width no-bg">
            <mat-label>Quantity*</mat-label>
            <input matInput type="number" [(ngModel)]="order.quantity" name="quantity">
          </mat-form-field>

          <mat-form-field appearance="outline" class="third-width no-bg">
            <mat-label>Discount*</mat-label>
            <input matInput type="number" step="0.01" [(ngModel)]="order.discount" name="discount">
          </mat-form-field>
        </div>
      </form>

      <div class="modal-footer">
        <span *ngIf="submitted" class="success-msg">âœ… Order created successfully!</span>
        <button mat-button (click)="close()">CLOSE</button>
        <button mat-flat-button color="primary" (click)="save()">SAVE</button>
      </div>
    </div>
  </div>
</div>
